import * as ActionType from '../constants/rain';

/**
 *
 * @param state
 * @param action
 */
export default function rainReducers(state, action){
  switch (action.type) {
    case ActionType.UPDATE_RAIN:
      return {
        ...state,
        rainData: {...action.payload}
      };
    case ActionType.UPDATE_RAIN_STATION:
      let stations = {};
      let data = action.payload.data;

      data.forEach((item) => {
        //雨量站点
        if ([3, 5, 6, 10].indexOf(item.indtype) > -1) {
          //stations.push(item);
          stations[item.stcd] = item;
        }
      });

      return {...state, stations};
    default:
      return {...state}
  }
}
